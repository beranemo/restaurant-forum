<br />
<div class="container">
  <div class="row">
   
    <div class="col-md-4">      
      <% if @user.avatar? %>
        <%= image_tag @user.avatar, class: "img-responsive center-block img-rounded avatar" %>
      <% else %>
      
        <% x =  rand(2) %>
        <% if x == 0 %>
          <%= image_tag "https://i.imgur.com/vdaV4wT.png", class: "img-responsive center-block img-rounded avatar"  %>
        <% else %>
          <%= image_tag "https://i.imgur.com/UEh3HOm.png", class: "img-responsive center-block img-rounded avatar"  %>
        <% end %>  
      <% end %>       
    </div>
    
    <div class="col-md-8">
      <div class="form-row">  
        <div class="form-group">
          <h2><%= @user.name %></h2>
          <!-- inline & unstyled 的 list -->
          <ul class="list-unstyled list-inline">
           <li><strong><%= @commented_restaurants.count %></strong> 已評論餐廳</li>
           <li><strong><%= @favorited_restaurants.count %></strong> 收藏的餐廳</li>
           <li><strong><%= @followings.count %></strong> followings</li>
           <li><strong><%= @followers.count %></strong> followers</li>
          </ul>
          <h4><%= @user.intro %></h4>
          <% if @user.id == current_user.id %>
            <%= link_to "Edit Profile", edit_user_path(@user), class: "btn btn-primary" %>
          <% end %>
        </div>
      </div>
    </div>
    
  </div>
</div>


<br>



<div class="col-md-4">
  <!-- 顯示followings的清單，panel包一個list-group  -->
  <div class="panel panel-warning">
   
    <div class="panel-heading">
      <h3 class="panel-title"><strong><%= @followings.count %></strong> followings</h3>
    </div>
    
    <ul class="list-group">
      <% @followings.each do |following| %>
      <li class="list-group-item">
        <%= link_to user_path(following) do %>
        <%= image_tag(following.avatar, height: 30, width: 30, class: "img-circle") %>
        <%= following.name %>
        <% end %>
      </li>
      <% end %>
    </ul>
    
  </div>
  
  <!-- 顯示followers的清單，panel包一個list-group  -->
  <div class="panel panel-warning">
   
    <div class="panel-heading">
      <h3 class="panel-title"><strong><%= @followers.count %></strong> followers</h3>
    </div>
    
    <ul class="list-group">
      <% @followers.each do |follower| %>
      <li class="list-group-item">
        <%= link_to user_path(follower) do %>
        <%= image_tag(follower.avatar, height: 30, width: 30, class: "img-circle") %>
        <%= follower.name %>
        <% end %>
      </li>
      <% end %>
    </ul>
    
  </div>
  
</div>

<div class="col-md-8">
  <div class="panel panel-warning">
    <div class="panel-heading">
      <h4 class="panel-title">
        評論過的餐廳
      </h4>
    </div>
    <div class="panel-body">
      <% @commented_restaurants.each do |restaurant| %>      
        <%= link_to restaurant_path(restaurant.id) do %>
        <div class="my-restaurant">     
          <% if restaurant.image? %>
            <div>
              <%= image_tag restaurant.image %>
            </div>
          <% else %>
            <%= image_tag "http://via.placeholder.com/100x80" %>
          <% end %>   
          <p><%= restaurant.name %></p>
          <br />
        </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>